O<keyslot> sub

#<x_start>  = #1 (radius)
#<z_start>  = #2
#<x_end>    = #3
#<z_end>    = #4
#<doc>      = #5
#<feed>     = #6

G8  ; Radius mode
G18 ; XZ Plane
G21 ; Metric Units
G90 ; Absolute Distance


G94 F#<feed> (feed in mm/min)

o100 WHILE [#<x_start> LT #<x_end>]
    #<x_start> = [#<x_start> + #<doc>]
    G0 X#<x_start>
    G1 Z#<z_end>
    G0 X[#<x_start> - #<doc>]
    G0 Z#<z_start>
o100 ENDWHILE

G7  ; back to diameter mode
G95 ; back to mm/rev

O<keyslot> endsub