O<drilling> sub

#<x_start>      = #1
#<z_start>      = #2
#<z_end>        = #3
#<retract>      = #4
#<increment>    = #5
#<rpm>          = #6
#<feed>         = #7

G7  ; Diameter mode
G17 ; Change plane to XY, canned cycle does not work on G18)
G21 ; Metric Units
G90 ; Absolute Distance

G97 M4 S#<rpm>

#<x_start> = [#<x_start> / 2] (half the diameter)

G0 X0
G98 G83 Z#<z_end> R#<retract> Q#<increment> F#<feed>
G80 (cancel canned cycle)
G0 Z#<z_start>
G0 X#<x_start>

G18 (switch back to XZ plane)
M5
O<drilling> endsub